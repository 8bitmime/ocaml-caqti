<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Caqti_driver_info (caqti.Caqti_driver_info)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../index.html">caqti</a></span></nav><header><h1><span class="keyword">Module</span> <span class="module-path">Caqti_driver_info</span></h1></header><p>Information about a database, its driver, and its query language.</p><p>This module provides descriptions supplied by the driver to aid the
application in dealing with differences between database systems.</p><div class="spec type" id="type-dialect_tag#row"><a href="#type-dialect_tag#row" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>dialect_tag#row</code><code></code><code></code></div><div class="doc"><p>A tag used for easy dispatching between query languages.</p></div></div><div class="spec type" id="type-dialect_tag"><a href="#type-dialect_tag" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>dialect_tag</code><span class="keyword"> = </span><span class="keyword">private </span><code>[&gt; </code><table class="variant"><tr id="type-dialect_tag.Mysql" class="anchored"><td class="def constructor"><a href="#type-dialect_tag.Mysql" class="anchor"></a><code><span class="keyword">| </span></code><code>`Mysql</code></td></tr><tr id="type-dialect_tag.Pgsql" class="anchored"><td class="def constructor"><a href="#type-dialect_tag.Pgsql" class="anchor"></a><code><span class="keyword">| </span></code><code>`Pgsql</code></td></tr><tr id="type-dialect_tag.Sqlite" class="anchored"><td class="def constructor"><a href="#type-dialect_tag.Sqlite" class="anchor"></a><code><span class="keyword">| </span></code><code>`Sqlite</code></td></tr></table><code> ]</code><code></code></div><div class="doc"><p>A tag used for easy dispatching between query languages.</p></div></div><div class="spec type" id="type-sql_dialect_tag"><a href="#type-sql_dialect_tag" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>sql_dialect_tag</code><span class="keyword"> = </span><code>[ </code><table class="variant"><tr id="type-sql_dialect_tag.Mysql" class="anchored"><td class="def constructor"><a href="#type-sql_dialect_tag.Mysql" class="anchor"></a><code><span class="keyword">| </span></code><code>`Mysql</code></td></tr><tr id="type-sql_dialect_tag.Pgsql" class="anchored"><td class="def constructor"><a href="#type-sql_dialect_tag.Pgsql" class="anchor"></a><code><span class="keyword">| </span></code><code>`Pgsql</code></td></tr><tr id="type-sql_dialect_tag.Sqlite" class="anchored"><td class="def constructor"><a href="#type-sql_dialect_tag.Sqlite" class="anchor"></a><code><span class="keyword">| </span></code><code>`Sqlite</code></td></tr></table><code> ]</code><code></code></div><div class="doc"><p>Subtype of the above which includes only known SQL dialects.</p></div></div><div class="spec type" id="type-parameter_style#row"><a href="#type-parameter_style#row" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>parameter_style#row</code><code></code><code></code></div><div class="doc"><p>How parameters are named. This is useful for SQL since the difference
between dialects typically have an intrusive effect on query strings.
This may also be useful for non-SQL languages which support some form of
variables or placeholders.
</p><ul><li><code class="code">`None</code> means that non of the following parameter styles apply, or that
the driver does not support parameters at all.</li><li><code class="code">`Linear s</code> means that occurrences of <code class="code">s</code> bind to successive parameters.</li><li><code class="code">`Indexed f</code> means that an occurrence of <code class="code">f i</code> represents parameter
number <code class="code">i</code>, counting from 0.</li></ul></div></div><div class="spec type" id="type-parameter_style"><a href="#type-parameter_style" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>parameter_style</code><span class="keyword"> = </span><span class="keyword">private </span><code>[&gt; </code><table class="variant"><tr id="type-parameter_style.None" class="anchored"><td class="def constructor"><a href="#type-parameter_style.None" class="anchor"></a><code><span class="keyword">| </span></code><code>`None</code></td></tr><tr id="type-parameter_style.Linear" class="anchored"><td class="def constructor"><a href="#type-parameter_style.Linear" class="anchor"></a><code><span class="keyword">| </span></code><code>`Linear<span class="keyword"> of </span>string</code></td></tr><tr id="type-parameter_style.Indexed" class="anchored"><td class="def constructor"><a href="#type-parameter_style.Indexed" class="anchor"></a><code><span class="keyword">| </span></code><code>`Indexed<span class="keyword"> of </span>int <span class="keyword">&#8209;&gt;</span> string</code></td></tr></table><code> ]</code><code></code></div><div class="doc"><p>How parameters are named. This is useful for SQL since the difference
between dialects typically have an intrusive effect on query strings.
This may also be useful for non-SQL languages which support some form of
variables or placeholders.
</p><ul><li><code class="code">`None</code> means that non of the following parameter styles apply, or that
the driver does not support parameters at all.</li><li><code class="code">`Linear s</code> means that occurrences of <code class="code">s</code> bind to successive parameters.</li><li><code class="code">`Indexed f</code> means that an occurrence of <code class="code">f i</code> represents parameter
number <code class="code">i</code>, counting from 0.</li></ul></div></div><div class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>t</code><code></code><code></code></div><div class="doc"></div></div><div class="spec val" id="val-create"><a href="#val-create" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>create : uri_scheme:string <span class="keyword">&#8209;&gt;</span> ?&#8288;dialect_tag:<a href="index.html#type-dialect_tag">dialect_tag</a> <span class="keyword">&#8209;&gt;</span> ?&#8288;parameter_style:<a href="index.html#type-parameter_style">parameter_style</a> <span class="keyword">&#8209;&gt;</span> can_pool:bool <span class="keyword">&#8209;&gt;</span> can_concur:bool <span class="keyword">&#8209;&gt;</span> can_transact:bool <span class="keyword">&#8209;&gt;</span> describe_has_typed_params:bool <span class="keyword">&#8209;&gt;</span> describe_has_typed_fields:bool <span class="keyword">&#8209;&gt;</span> unit <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p>The function used by drivers to construct a description of themselves. For
an explanation of the parameters, see the corresponding projections.</p></div></div><div class="spec val" id="val-uri_scheme"><a href="#val-uri_scheme" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>uri_scheme : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> string</code></div><div class="doc"><p>The URI scheme this backend binds to.</p></div></div><div class="spec val" id="val-dialect_tag"><a href="#val-dialect_tag" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>dialect_tag : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-dialect_tag">dialect_tag</a></code></div><div class="doc"><p>A variant indicating the SQL dialect or other query language, used for easy
dispatching when constructing queries. Can be omitted if non of the cases
applies, but this means clients must inspect the backend-info to indentify
the language.</p></div></div><div class="spec val" id="val-parameter_style"><a href="#val-parameter_style" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>parameter_style : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-parameter_style">parameter_style</a></code></div><div class="doc"><p>How to represent parameters in query strings.</p></div></div><div class="spec val" id="val-can_pool"><a href="#val-can_pool" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>can_pool : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"><p>Whether it makes sense to keep connections around for later reuse when using
this driver. As hard requirements, the driver must clear any state which
could affect subsequent operation, and it must reliably detect whether the
connection is still in a usable state. As a further indicator, the overhead
of establishing and closing connections should be high enough that it pays
of to keep connections around.</p></div></div><div class="spec val" id="val-can_concur"><a href="#val-can_concur" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>can_concur : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"><p>Whether the driver supports concurrent operation. This is just a hint; it
is up to the driver to serialize connections with locking primitives or
other means.</p></div></div><div class="spec val" id="val-can_transact"><a href="#val-can_transact" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>can_transact : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"><p>Whether the database and driver supports transactions.</p></div></div></body></html>